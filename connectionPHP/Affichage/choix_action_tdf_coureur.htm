<!DOCTYPE html>
<html lang="fr">

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width = device-width, initial-scale = 1">
	<link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
	<link rel="stylesheet" href="../Affichage/materialize.css">
	<script type="text/javascript" src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.3/js/materialize.min.js"></script>
	<script>
		$(document).ready(function () {
			$('select').material_select();
		});
	</script>
	<title>Formulaire de mise à jour de base de données</title>
	<script src="../Affichage/formulaire_coureur.js"></script>
</head>

<body>
	<nav class="grey darken-2">
		<div class="nav-wrapper">
			<a href="../Affichage/page_accueil.htm" ><img id="deco" class="responsive-img" src="../img/deco.png" alt=""></a>
			<ul id="nav-mobile" class="right hide-on-med-and-down">
				<li><a href="../AffichagePHP/annee.php">Infos par année</a></li>
				<li><a href="../AffichagePHP/inserer_tdf_coureur.php" >Insérer un nouveau coureur</a></li>
				<li><a href="../AffichagePHP/modifier_tdf_coureur.php" >Modifier un coureur</a></li>
				<li><a href="../AffichagePHP/supprimer_tdf_coureur.php" >Supprimer coureur</a></li>
			</ul>
		</div>
	</nav>

	<form id="Formulaire_coureur" name="Formulaire_coureur" action="../AffichagePHP/choix_action_tdf_coureur.php"
		method="post" enctype="application/x-www-form-urlencoded">
		<div class="row">
				<label>Recherche : </label>
				<div class="col s2">
				<label for="NOM"> Nom : </label><input value="<?php verifierText("NOM"); ?>" type="text" id="NOM" name="NOM" placeholder="Titouan"><br />
			</div>
			<div class="col s2">
				<label for="PRENOM"> Prenom : </label><input value="<?php verifierText("PRENOM"); ?>" type="text" id="PRENOM" name="PRENOM" placeholder="Titouan"><br />
			</div>
			<div class="col s2">
				<label for="ANNEE_PREM"> Annee de première participation : </label><input value="<?php verifierText("ANNEE_PREM"); ?>" type="text" id="ANNEE_PREM" name="ANNEE_PREM" placeholder="Titouan"><br />
			</div>
				<div class="col s2">
				<label for="ANNEE_NAISSANCE"> Année de naissance : </label><input value="<?php verifierText("ANNEE_NAISSANCE"); ?>" type="text" id="ANNEE_NAISSANCE" name="ANNEE_NAISSANCE" placeholder="Titouan"><br />
			</div>
		</div>

		<p id="resultat">
			<span id="r2">en attente de données</span>
		</p>

	</form>

		<script>
			function chargerDonnee(nom, prenom, annee_nai, annee_pre) {
				var xhr = new XMLHttpRequest();
				xhr.open('GET', '../AffichagePHP/affichageCoureurs.php/?nom=' +
					nom + '&prenom=' + prenom + '&annee_nai=' +annee_nai + '&annee_pre=' + annee_pre);

				var Lire = function () {
					if (xhr.readyState === 4 && xhr.status === 200) {
						document.getElementById('resultat').innerHTML = '<span>' + xhr.responseText + '</span>';
					}
				}
				xhr.addEventListener("readystatechange", Lire, false);
				xhr.send(null);
			}
			var nom = document.getElementById('NOM');
			var prenom = document.getElementById('PRENOM');
			var annee_nai = document.getElementById('ANNEE_NAISSANCE');
			var annee_pre = document.getElementById('ANNEE_PREM');
			var place = "";
			var maFonction1 = function () {
				chargerDonnee(nom.value, prenom.value,annee_nai.value,annee_pre.value);
			};
			nom.addEventListener("keyup", maFonction1, false);
			prenom.addEventListener("keyup", maFonction1, false);
			annee_nai.addEventListener("keyup", maFonction1, false);
			annee_pre.addEventListener("keyup", maFonction1, false);
		</script>
		<script type="text/javascript" src="js/materialize.min.js"></script>
</body>

</html>